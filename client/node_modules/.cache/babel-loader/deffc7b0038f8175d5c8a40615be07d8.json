{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\A\\xEFssetou\\\\Workspace\\\\B_School\\\\Javascript\\\\gestion_comptes_bancaires\\\\client\\\\src\\\\components\\\\ComptesBancaires.js\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nconst ComptesBancaires = () => {\n  const [comptes, setComptes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  useEffect(() => {\n    const fetchComptes = async () => {\n      try {\n        // Récupérer le token du localStorage\n        const token = localStorage.getItem(\"token\");\n        const config = {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        };\n        // Assurez-vous d'utiliser le bon port (celui du backend)\n        const response = await axios.get(\"http://localhost:5500/api/accounts/comptes\", config);\n        setComptes(response.data);\n      } catch (error) {\n        setError(\"Erreur lors de la récupération des comptes\");\n        console.error(\"Erreur:\", error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchComptes();\n  }, []);\n  if (loading) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 22\n    }\n  }, \"Chargement...\");\n  if (error) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 20\n    }\n  }, error);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 4\n    }\n  }, \"Mes Comptes Bancaires\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }\n  }, comptes.map(compte => /*#__PURE__*/React.createElement(\"li\", {\n    key: compte._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, \"Nom du compte :\"), \" \", compte.nom, \" -\", \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, \"Solde :\"), \" \", compte.solde, \" \\u20AC\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"absolute bottom-12 right-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"p-3 bg-sky-600 text-white rounded\",\n    href: \"/pages/newAccount.html\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, \"Cr\\xE9er un compte\")));\n};\nexport default ComptesBancaires;","map":{"version":3,"names":["React","useEffect","useState","axios","ComptesBancaires","comptes","setComptes","loading","setLoading","error","setError","fetchComptes","token","localStorage","getItem","config","headers","Authorization","response","get","data","console","message","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","compte","key","_id","nom","solde","className","href"],"sources":["C:/Users/Aïssetou/Workspace/B_School/Javascript/gestion_comptes_bancaires/client/src/components/ComptesBancaires.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst ComptesBancaires = () => {\r\n\tconst [comptes, setComptes] = useState([]);\r\n\tconst [loading, setLoading] = useState(true);\r\n\tconst [error, setError] = useState(\"\");\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchComptes = async () => {\r\n\t\t\ttry {\r\n\t\t\t\t// Récupérer le token du localStorage\r\n\t\t\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\t\tconst config = {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\t// Assurez-vous d'utiliser le bon port (celui du backend)\r\n\t\t\t\tconst response = await axios.get(\r\n\t\t\t\t\t\"http://localhost:5500/api/accounts/comptes\",\r\n\t\t\t\t\tconfig\r\n\t\t\t\t);\r\n\t\t\t\tsetComptes(response.data);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tsetError(\"Erreur lors de la récupération des comptes\");\r\n\t\t\t\tconsole.error(\"Erreur:\", error.message);\r\n\t\t\t} finally {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t}\r\n\t\t};\r\n\t\tfetchComptes();\r\n\t}, []);\r\n\r\n\tif (loading) return <p>Chargement...</p>;\r\n\r\n\tif (error) return <p>{error}</p>;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Mes Comptes Bancaires</h2>\r\n\t\t\t<ul>\r\n\t\t\t\t{comptes.map((compte) => (\r\n\t\t\t\t\t<li key={compte._id}>\r\n\t\t\t\t\t\t<strong>Nom du compte :</strong> {compte.nom} -{\" \"}\r\n\t\t\t\t\t\t<strong>Solde :</strong> {compte.solde} €\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\r\n\t\t\t<div className=\"absolute bottom-12 right-12\">\r\n        <a className=\"p-3 bg-sky-600 text-white rounded\" href=\"/pages/newAccount.html\">Créer un compte</a>\r\n      </div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ComptesBancaires;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}